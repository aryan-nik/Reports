# آشنایی با Git 



------

## چرا گیت؟

گیت مشهورترین نرم افزار کنترل ورژن پروژه ها یا vcs است. به کمک این نرم افزار میتوانید تمام ورژن های مختلف از پروژه ی خود را ثبت و کنترل کنید. میتوانید تمام تغییرات روی پروژه خود بدون کپی پیست کردن یا استفاده از چند فایل یا پوشه ی مختلف ثبت کنید و هر زمان که نیاز داشتید به آن تغییرات برگشته یا تاریخچه ی تمام تغییرات در پروژه را داشته باشید. البته اهمیت استفاده از گیت زمانی بهتر مشخص میشود که به صورت یک تیم روی پروژه ای کار کنید. هر عضو میتواند به راحتی کدهای نوشته شده توسط اعضای دیگر را ببیند و بررسی کند بدون نیاز به کپی های متعدد از پروژه. در ادامه بیشتر با گیت آشنا میشویم.





### مفهوم Repository

هر Repository در حقیقت مخزن تمام فایل های یکی پروژه های شما است. در هر مخزن میتوانید تاریخچه ی کاملی از تمام ورژن ها و تغییرات پروژه ی خود را ثبت کنید. با کمک دستوراتی که در ادامه به آن میپردازیم میتوانید حتی کوچیک ترین تغیرات را ثبت و بازبینی کنید.



### ساخت مخزن

ابتدا به پوشه ای که قرار است پروژه ی شما در آن قرار بگیرد بروید و دستور زیر را اجرا کنید:

```bash
git init .
```

بعد از اجرای این دستور یک مخرن خالی ایجاد میشود. و حالا میتوانید از تمام امکانات گیت استفاده کنید.





### افزودن فایل



حالا یک فایل جدید ایجاد میکنیم: 

```bash
touch index.html
```

میخواهیم گیت را از فایل جدیدی که ساخته ایم با خبر کنیم تا تمامی تغییرات روی آن را برای ما ثبت کند.

دستور status به ما تغییرات فعلی را نشان میدهد.

```bash
git status
```

این دستور خروجی زیر را به ما میدهد:

```bash
On branch master

No commits yet

Untracked files:
  (use "git add <file>..." to include in what will be committed)
        index.html

nothing added to commit but untracked files present (use "git add" to track)


```

همان طور که در خروجی مشخص است گیت از فایل جدید ما با خبر هست حالا باید دستوری بدهیم تا تغییرات روی این فایل را کنترل کند. از دستور add برای این کار استفاده میکنیم:

 

```bash
git add .

```

کاراکتر "." نشان میدهد میخواهیم تمام تغییرات را در پوشه ی جاری کنترل کنیم. میتوانید به جای نقطه اسم فایل را بنویسید در آن صورت فقط تغییرات روی آن فایل ثبت میشود. به این صورت:

```bash
git add index.html
```

تا اینجا تغییراتی که اعمال کرده ایم ذخیره نشده اند فقط به گیت فهمانده ایم که کدام تغییرات را میخواهیم ثبت یا به اصطلاح stage کنیم. در ادامه میخواهیم این تغییرات را در مخزن خود ذخیره کنیم.



### Commit

برای دخیره ی نهایی تغییراتی که با دستور add آن ها به اصطلاح stage کرده ایم، از دستور commit استفاده میکنیم.

```bash
git commit -m "add index.html"
```

```bash
[master (root-commit) 21c9dfd] add index.html
 1 file changed, 0 insertions(+), 0 deletions(-)
 create mode 100644 index.html
```

در خروجی به ما نشان داده میشود که دستور به درستی وارد شده و از تمام تغییرات تا به حالا در مخزن ما ذخیره میشود. از این پس هر تغییر دیگری در مخزن نیازمند این است که مراحل قبلی را طی کنیم. به عنوان مثال کدهای زیر را در فایل index وارد میکنیم:

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hello World!</title>
</head>
<body>
  <h1>Hello World!</h1>
</body>
</html>
```

 مجددا از دستور Status برای بررسی تغییرات استفاده میکینم:

```bash
git status
```

```bash
On branch master
Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
        modified:   index.html

```

همان طور که می بینید گیت از تغییرات روی فایل index.html با خبر هست و این بار به پیام modified را نشان میدهد. این یعنی مجددا باید تغییرات اعمال شده ابتدا Stage شده و سپس در مخزن ذخیره شود.

```bash
git add index.html
```

با دستور بالا مجددا تغییرات Stage شده و حالا برای ذخیره ی کامل تغییرات باید باهم از دستور commit استفاده کنیم.

```bash
git commit -m "modified index.html"
[master f8a03ca] modified index.html
 1 file changed, 12 insertions(+)
```

به این ترتیب تمام تغییرات تا به اینجا به صورت دایم در مخزن یا همان repository ما ذخیره شد.





### آشنایی با Branch

هر دستور commit نشان دهنده ی اعمال یک تغییر در پروژه ی ما هست اما برای ثبت یک جریان خاص از برنامه یا پروژه ی خود، از Branch ها استفاده میشود. به عنوان مثال شاید تصمیم بگیرید به پروژه ی اصلی خود یک قابلیت اضافه کنید و یا یک ایراد در برنامه رفع کنید. شاید بخواهید بدون تغییر دادن پروژه ی اصلی، شروع به اضافه کردن قابلیت جدید به پروژه کنید، آنرا تست کنید و در صورت اطمینان تغییرات اعمال شده را به پروژه ی اصلی اضافه کنید.

در این صورت ما از دستور branch استفاده میکنیم. به عنوان مثال:



```bash
 git branch new-branch
```

با این دستور یک شاخه ی جدید به مخزن ما اضافه میشود.

```bash
git branch add-css
```

شاخه ای با نام "add-css" ایجاد کردیم. حالا برای شروع کار روی این شاخه از برنامه باید به گیت بفهمانیم که تغییرات جدید را در این شاخه اعمال خواهیم کرد. برای این کار باید از دستور زیر استفاده کنیم:

```bash
git checkout add-css
Switched to branch 'add-css'
```

در این شاخه از پروژه میخواهیم یک فایل ساده ی css را اضافه کنیم:

```bash
touch styles.css

 git status
On branch add-css
Untracked files:
  (use "git add <file>..." to include in what will be committed)
        styles.css

nothing added to commit but untracked files present (use "git add" to track)

```

 

فایل css با موفقیت ایجاد شد. یکی از مزایایی استفاده از branch ها این است که اگر مشکلی در شاخه ی جدید باشد بر پروژه ی اصلی اعمال نمیشود.



حالا بعد از اطمینان میتوانیم شاخه ی جدید را با شاخه ی اصلی پروژه ادغام کنیم.

برای این کار از دستور merge در گیت استفاده میشود. ابتدا به شاخه ی اصلی باز میگردیم:

```bash
git checkout master
```

شاخه یا برنچ اصلی به صورت پیش فرض master نام درد.

برای ادغام شاخه ی master و add-css به این صورت عمل میکنیم:

```bash
git merge add-css
```

حالا دیگر به شاخه ی sdd-css نیازی نداریم و میتوانیم به این صورت آنرا پاک کنیم:

```bash
git branch delete add-css
```





### Pull و Push

این دو دستور برای زمانی که علاوه بر مخزن محلی خود، یک مخزن راه دور داشته باشید، بسیار پر کاربرد است. با دستور pull میتوانید تمام مخزن راه دور فعلی را با مخزن محلی خود  ادغام یا merge کنید.

با کمک دستور push نیز میتوانید وضعیت فعلی مخزن محلی خود را به مخزن راه دور انتقال دهید.

اما ابتدا برای این کار نیاز دارید تا آدرس مخزن راه دور را به گیت بفهمانید. برای این کار میشود به صورت زیر عمل کرد: 

```bash
git remote add origin "remote repository address"
```

در این قسمت باید آدرس مخزن راه دور خود را در مشابه مثال بالا وارد کنید.
